<!DOCTYPE node PUBLIC
'-//freedesktop//DTD D-BUS Object Introspection 1.0//EN'
'http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd'>
<node>
  <!--
      org.gnome.Shotwell.Faces1:
      @short_description: Face detection/recognition
  -->
  <interface name="org.gnome.Shotwell.Faces1">
    <!--
        DetectFaces
        @image: Image file to run face detection on
        @cascade: Cascade XML file
        @scale: Scaling to apply on image
        Returns an array of face bounding boxes (x,y,w,h) in dimensionless units
    -->
    <method name="DetectFaces">
      <arg type="s" name="image" direction="in" />
      <arg type="s" name="cascade" direction="in" />
      <arg type="d" name="scale" direction="in" />
      <arg type="a(dddd)" name="faces" direction="out" />
    </method>

    <!--
        TrainFaces
        @images: List of image files with a face in it
        @labels: List of labels for each face
        @model: File name to save model in
        Returns non-zero on any error
    -->
    <method name="TrainFaces">
      <arg type="as" name="images" direction="in" />
      <arg type="as" name="labels" direction="in" />
      <arg type="s" name="model" direction="in" />
      <arg type="y" name="status" direction="out" />
    </method>

    <!--
        RecogniseFace
        @image: Image of face to recognise
        @model: File name to read model from
        @threshold: Probability threshold
        Returns array of (label, probability) pairs 
    -->
    <method name="RecogniseFace">
      <arg type="s" name="image" direction="in" />
      <arg type="s" name="model" direction="in" />
      <arg type="d" name="threshold" direction="in" />
      <arg type="a(sd)" name="labels" direction="out" />
    </method>
  </interface>
</node>
